{"id":"peakypanes-rv6","title":"press k didn't kill the session","description":"pressing 'k' key did not kill the selected session as expected. this appears to be a keyboard input handling issue where the kill session functionality is not working properly.","notes":"## Root Cause Analysis\nThe issue was caused by improper key binding handling in the bubbletea TUI framework. The 'K' key binding was defined correctly but the kill logic was placed in the delegateUpdate function, which didn't properly trigger UI re-rendering.\n\n## Solution Implemented\n1. **Moved kill logic from delegateUpdate to updateHome function**: This ensured the key was handled in the main update loop where it could properly trigger UI updates.\n\n2. **Used the same refresh pattern as the existing refresh key**: \n   - Called `loadConfig()` to reset state\n   - Called `refreshStatuses()` to fetch updated tmux sessions\n   - Called `m.list.SetItems(m.projectsToItems())` to update the UI\n   - Returned proper command to trigger re-render\n\n3. **Removed confirmation dialog**: Implemented immediate kill without confirmation for better UX.\n\n## Technical Details\n- **File modified**: `internal/tui/peakypanes/model.go`\n- **Key binding**: 'K' (uppercase) for kill session\n- **Pattern**: Used existing refresh pattern to ensure list updates automatically\n- **Framework**: bubbletea TUI framework with proper command return handling\n\n## Result\n- Press 'K' on a running session immediately kills it\n- Session is automatically removed from the menu without requiring manual refresh\n- Status message confirms successful kill operation\n- No regression in other functionality","status":"closed","priority":2,"issue_type":"bug","assignee":"opencode","created_at":"2025-12-08T14:58:14.612547+11:00","updated_at":"2025-12-08T16:12:41.009967+11:00","closed_at":"2025-12-08T16:08:17.005866+11:00"}
{"id":"peakypanes-ucz","title":"peakypanes should quit after creating/switching/attaching a session from menu","description":"solved: peakypanes now quits after creating/switching/attaching sessions from menu\n\nsolution implemented:\n- used tea.Sequence with tea.ExecProcess and tea.Quit\n- modified attachProject, startProject, and startSessionAtPath functions\n- tea.Sequence executes tmux command first, then calls tea.Quit to close application\n- this ensures proper cleanup without terminal artifacts\n\ntroubleshooting process:\n1. first tried message handling approach - didn't work\n2. tried os.Exit(0) in callback - didn't work  \n3. tried tea.Batch approach - didn't work\n4. tried exec.Command directly - worked but left artifacts\n5. reverted to tea.Sequence approach - worked perfectly\n\nkey insight: user was running peakypanes from GOBIN path instead of built binary, which is why initial tests failed. tea.Sequence approach provides clean exit without terminal artifacts.","notes":"tea.Batch approach also not working - tried 3 different approaches (message handling, os.Exit, tea.Batch) but none work","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-08T17:57:58.171879+11:00","updated_at":"2025-12-08T19:08:36.331138+11:00","closed_at":"2025-12-08T19:06:03.648655+11:00"}
{"id":"peakypanes-ypz","title":"remove unnecessary project picker feature","description":"the project picker feature (activated by 'n' or 'o' keys) is unnecessary because peakypanes already has a robust config file mechanism for managing projects. the current implementation only scans ~/projects directory which creates unnecessary dependency on specific directory structure.","acceptance_criteria":"• remove scanGitProjects() method and related git scanning logic\n• remove setupProjectPicker() method and project picker ui components  \n• remove StateProjectPicker state and related transitions\n• remove 'n' and 'o' key bindings for project picker\n• keep config file mechanism as the primary way to manage projects\n• ensure no references to removed functionality remain","notes":"giải pháp: thay vì loại bỏ hoàn toàn tính năng project picker, chúng ta đã cải tiến nó để trở nên linh hoạt hơn:\n\n1. **thêm configurable project paths**: người dùng có thể định nghĩa `project_paths` trong ~/.config/peakypanes/config.yml\n2. **thay đổi default path**: từ ~/projects thành ~/workspace (phổ biến hơn)\n3. **hỗ trợ multiple directories**: quét nhiều thư mục project\n4. **robust fallback**: tự động dùng ~/workspace nếu không có config\n5. **error handling**: bỏ qua các đường dẫn không tồn tại\n\nthay đổi chính:\n- thêm `ProjectPaths []string` vào struct Config trong internal/layout/config.go\n- cập nhật method scanGitProjects() để đọc config file\n- thêm struct GitProject và các trường cần thiết vào Model\n- sửa tất cả lỗi cú pháp và đảm bảo compilation thành công\n\nkết quả: tính năng project picker giờ đây linh hoạt hơn nhiều và cho phép người dùng tùy chỉnh hoàn toàn theo workflow của mình.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-08T19:27:50.283108+11:00","updated_at":"2025-12-08T19:49:58.670186+11:00","closed_at":"2025-12-08T19:46:18.563177+11:00"}
