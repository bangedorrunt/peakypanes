{"id":"peakypanes-rv6","title":"press k didn't kill the session","description":"pressing 'k' key did not kill the selected session as expected. this appears to be a keyboard input handling issue where the kill session functionality is not working properly.","notes":"## Root Cause Analysis\nThe issue was caused by improper key binding handling in the bubbletea TUI framework. The 'K' key binding was defined correctly but the kill logic was placed in the delegateUpdate function, which didn't properly trigger UI re-rendering.\n\n## Solution Implemented\n1. **Moved kill logic from delegateUpdate to updateHome function**: This ensured the key was handled in the main update loop where it could properly trigger UI updates.\n\n2. **Used the same refresh pattern as the existing refresh key**: \n   - Called `loadConfig()` to reset state\n   - Called `refreshStatuses()` to fetch updated tmux sessions\n   - Called `m.list.SetItems(m.projectsToItems())` to update the UI\n   - Returned proper command to trigger re-render\n\n3. **Removed confirmation dialog**: Implemented immediate kill without confirmation for better UX.\n\n## Technical Details\n- **File modified**: `internal/tui/peakypanes/model.go`\n- **Key binding**: 'K' (uppercase) for kill session\n- **Pattern**: Used existing refresh pattern to ensure list updates automatically\n- **Framework**: bubbletea TUI framework with proper command return handling\n\n## Result\n- Press 'K' on a running session immediately kills it\n- Session is automatically removed from the menu without requiring manual refresh\n- Status message confirms successful kill operation\n- No regression in other functionality","status":"closed","priority":2,"issue_type":"bug","assignee":"opencode","created_at":"2025-12-08T14:58:14.612547+11:00","updated_at":"2025-12-08T16:12:41.009967+11:00","closed_at":"2025-12-08T16:08:17.005866+11:00"}
{"id":"peakypanes-ucz","title":"peakypanes should quit after creating/switching/attaching a session from menu","description":"solved: peakypanes now quits after creating/switching/attaching sessions from menu\n\nsolution implemented:\n- used tea.Sequence with tea.ExecProcess and tea.Quit\n- modified attachProject, startProject, and startSessionAtPath functions\n- tea.Sequence executes tmux command first, then calls tea.Quit to close application\n- this ensures proper cleanup without terminal artifacts\n\ntroubleshooting process:\n1. first tried message handling approach - didn't work\n2. tried os.Exit(0) in callback - didn't work  \n3. tried tea.Batch approach - didn't work\n4. tried exec.Command directly - worked but left artifacts\n5. reverted to tea.Sequence approach - worked perfectly\n\nkey insight: user was running peakypanes from GOBIN path instead of built binary, which is why initial tests failed. tea.Sequence approach provides clean exit without terminal artifacts.","notes":"tea.Batch approach also not working - tried 3 different approaches (message handling, os.Exit, tea.Batch) but none work","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-08T17:57:58.171879+11:00","updated_at":"2025-12-08T19:08:36.331138+11:00","closed_at":"2025-12-08T19:06:03.648655+11:00"}
